{"ast":null,"code":"import _classCallCheck from\"/media/devmod/main/microverse/react/bookstore-cms/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/media/devmod/main/microverse/react/bookstore-cms/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/media/devmod/main/microverse/react/bookstore-cms/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/media/devmod/main/microverse/react/bookstore-cms/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/media/devmod/main/microverse/react/bookstore-cms/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{connect}from'react-redux';import axios from'axios';import{creatBookAction}from'../actions/index';import{StyledText,FormContainer,Button}from'./styled-components';var categories=['Action','Biography','History','Horror','Kids','Learning','Sci-Fi'];var BookForm=/*#__PURE__*/function(_React$Component){_inherits(BookForm,_React$Component);function BookForm(props){var _this;_classCallCheck(this,BookForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(BookForm).call(this,props));_this.handleFormSubmit=function(e){e.preventDefault();var handleAdding=_this.props.handleAdding;handleAdding(_this.state);_this.setState({title:'',author:'',category:'Action'});e.target.reset();};_this.handleChange=function(e){e.persist();var target=e.target;switch(target.localName){case'input':_this.setState(function(state){return{title:target.value,author:state.author,category:state.category};});break;default:_this.setState(function(state){return{title:state.title,author:state.author,category:target.value};});break;}};_this.state={title:'',author:'',category:'Action'};return _this;}_createClass(BookForm,[{key:\"render\",value:function render(){var handleChange=this.handleChange,_this$state=this.state,title=_this$state.title,category=_this$state.category;return React.createElement(FormContainer,null,React.createElement(StyledText,{size:\"big\",color:\"#3c6382\"},\"Add a Book\"),React.createElement(\"form\",{onSubmit:this.handleFormSubmit},React.createElement(\"input\",{onChange:handleChange,type:\"text\",className:\"title\",value:title,placeholder:\"Title\"}),React.createElement(\"select\",{name:\"category\",className:\"ctg\",onChange:handleChange,value:category},categories.map(function(item){return React.createElement(\"option\",{key:item,value:item},item);})),React.createElement(Button,{type:\"submit\",text:\"Submit\",size:\"big\",color:\"#fff\",bgColor:\"#6a89cc\"})));}}]);return BookForm;}(React.Component);// connect bookForm component to dispatch\nvar mapDispatchToProps=function mapDispatchToProps(dispatch){return{handleAdding:function handleAdding(book){axios.post('api/v1/books',{book:{title:book.title,author:book.author,category:book.category}}).then(function(response){var theBook=Object.assign({},book,{id:response.data.id});dispatch(creatBookAction(theBook));}).catch(function(err){console.log(err);});}};};BookForm=connect(null,mapDispatchToProps)(BookForm);export default BookForm;","map":{"version":3,"sources":["/media/devmod/main/microverse/react/bookstore-cms/client/src/components/book-form.js"],"names":["React","connect","axios","creatBookAction","StyledText","FormContainer","Button","categories","BookForm","props","handleFormSubmit","e","preventDefault","handleAdding","state","setState","title","author","category","target","reset","handleChange","persist","localName","value","map","item","Component","mapDispatchToProps","dispatch","book","post","then","response","theBook","Object","assign","id","data","catch","err","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { creatBookAction } from '../actions/index';\nimport { StyledText, FormContainer, Button } from './styled-components';\n\nconst categories = ['Action', 'Biography', 'History', 'Horror', 'Kids', 'Learning', 'Sci-Fi'];\n\nclass BookForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: '',\n      author: '',\n      category: 'Action',\n    };\n  }\n\n  handleFormSubmit = (e) => {\n    e.preventDefault();\n    const { handleAdding } = this.props;\n    handleAdding(this.state);\n    this.setState({\n      title: '',\n      author: '',\n      category: 'Action',\n    });\n    e.target.reset();\n  }\n\n  handleChange = (e) => {\n    e.persist();\n    const { target } = e;\n    switch (target.localName) {\n      case 'input':\n        this.setState((state) => ({\n          title: target.value,\n          author: state.author,\n          category: state.category,\n        }));\n        break;\n      default:\n        this.setState((state) => ({\n          title: state.title,\n          author: state.author,\n          category: target.value,\n        }));\n        break;\n    }\n  }\n\n  render() {\n    const { handleChange, state: { title, category } } = this;\n    return (\n      <FormContainer>\n        <StyledText\n          size=\"big\"\n          color=\"#3c6382\"\n        >\n          Add a Book\n        </StyledText>\n        <form onSubmit={this.handleFormSubmit}>\n          <input onChange={handleChange} type=\"text\" className=\"title\" value={title} placeholder=\"Title\" />\n          <select name=\"category\" className=\"ctg\" onChange={handleChange} value={category}>\n            {categories.map((item) => <option key={item} value={item}>{item}</option>)}\n          </select>\n          <Button\n            type=\"submit\"\n            text=\"Submit\"\n            size=\"big\"\n            color=\"#fff\"\n            bgColor=\"#6a89cc\" />\n        </form>\n      </FormContainer>\n    );\n  }\n}\n\n// connect bookForm component to dispatch\nconst mapDispatchToProps = (dispatch) => ({\n  handleAdding: (book) => {\n    axios.post('api/v1/books', { book: { title: book.title, author: book.author, category: book.category } })\n      .then(response => {\n        const theBook = Object.assign({}, book, { id: response.data.id })\n        dispatch(creatBookAction(theBook));\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  },\n});\n\nBookForm = connect(null, mapDispatchToProps)(BookForm);\n\nexport default BookForm;\n"]},"metadata":{},"sourceType":"module"}